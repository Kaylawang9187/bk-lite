{
  "object": "GBase8a",
  "plugin": "GBase8a-Exporter",
  "templates": [
    {
      "name": "数据库服务不可用",
      "alert_name": "GBase8a ${metric_instance_id} 服务宕机",
      "description": "监控实例存活状态，up=0需立即检查网络或进程。",
      "metric_name": "up",
      "algorithm": "last_over_time",
      "threshold": [
        {
          "level": "critical",
          "value": 1,
          "method": "!="
        }
      ]
    },
    {
      "name": "内存使用超限",
      "alert_name": "GBase8a ${metric_instance_id} 内存耗尽",
      "description": "监控物理内存使用率，过高可能触发OOM。",
      "metric_name": "gbase8a_exporter_phsical_memory_usage",
      "algorithm": "last_over_time",
      "threshold": [
        {
          "level": "critical",
          "value": 95,
          "method": ">="
        },
        {
          "level": "error",
          "value": 90,
          "method": ">="
        },
        {
          "level": "warning",
          "value": 85,
          "method": ">="
        }
      ]
    },
    {
      "name": "数据缓存命中率低",
      "alert_name": "GBase8a ${metric_instance_id} 缓存效率下降",
      "description": "监控DC命中率（dc_hit_rate），过低增加磁盘I/O压力。",
      "metric_name": "gbase8a_exporter_dc_hit_rate",
      "algorithm": "min",
      "threshold": [
        {
          "level": "critical",
          "value": 80,
          "method": "<="
        },
        {
          "level": "error",
          "value": 85,
          "method": "<="
        },
        {
          "level": "warning",
          "value": 90,
          "method": "<="
        }
      ]
    },
    {
      "name": "热数据缓存不足",
      "alert_name": "GBase8a ${metric_instance_id} 热缓存紧张",
      "description": "热数据未锁缓存数量不足",
      "metric_name": "gbase8a_exporter_hot_unlocked_dc",
      "algorithm": "min",
      "threshold": [
        {
          "level": "critical",
          "value": 100,
          "method": "<="
        },
        {
          "level": "error",
          "value": 200,
          "method": "<="
        },
        {
          "level": "warning",
          "value": 300,
          "method": "<="
        }
      ]
    },
    {
      "name": "活跃会话过多",
      "alert_name": "GBase8a ${metric_instance_id} 会话过载",
      "description": "当前活跃会话数异常",
      "metric_name": "gbase8a_exporter_sessions",
      "algorithm": "max",
      "threshold": [
        {
          "level": "critical",
          "value": 500,
          "method": ">="
        },
        {
          "level": "error",
          "value": 400,
          "method": ">="
        },
        {
          "level": "warning",
          "value": 300,
          "method": ">="
        }
      ]
    },
    {
      "name": "运行线程过多",
      "alert_name": "GBase8a ${metric_instance_id} 线程过载",
      "description": "并发运行线程数过高",
      "metric_name": "gbase8a_exporter_running_threads",
      "algorithm": "max",
      "threshold": [
        {
          "level": "critical",
          "value": 200,
          "method": ">="
        },
        {
          "level": "error",
          "value": 150,
          "method": ">="
        },
        {
          "level": "warning",
          "value": 100,
          "method": ">="
        }
      ]
    },
    {
      "name": "最大空闲块小",
      "alert_name": "GBase8a ${metric_instance_id} 内存碎片化",
      "description": "最大空闲内存块过小",
      "metric_name": "gbase8a_exporter_max_free_block",
      "algorithm": "min",
      "threshold": [
        {
          "level": "critical",
          "value": 100,
          "method": "<="
        },
        {
          "level": "error",
          "value": 200,
          "method": "<="
        },
        {
          "level": "warning",
          "value": 300,
          "method": "<="
        }
      ]
    }
  ]
}